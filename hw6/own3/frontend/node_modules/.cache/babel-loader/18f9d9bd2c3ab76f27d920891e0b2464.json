{"ast":null,"code":"var _jsxFileName = \"C:\\\\web programming\\\\wp1092\\\\hw6\\\\own3\\\\frontend\\\\src\\\\containers\\\\Body.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport styled from 'styled-components';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { useStyles } from '../hooks';\nimport axios from '../api';\nimport { useScoreCard } from '../hooks/useScoreCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n`;\n_c = Wrapper;\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 1em;\n`;\n_c2 = Row;\nconst StyledFormControl = styled(FormControl)`\n  min-width: 120px;\n`;\nconst ContentPaper = styled(Paper)`\n  height: 300px;\n  padding: 2em;\n  overflow: auto;\n`;\n_c3 = ContentPaper;\n\nconst Body = () => {\n  _s();\n\n  const classes = useStyles();\n  const {\n    messages,\n    addCardMessage,\n    addRegularMessage,\n    addErrorMessage\n  } = useScoreCard();\n  const [name, setName] = useState('');\n  const [subject, setSubject] = useState('');\n  const [score, setScore] = useState(0);\n  const [queryName, setQueryName] = useState('');\n  const [querySubject, setQuerySubject] = useState('');\n  const [queryScore, setQueryScore] = useState(0);\n  const [optr, setOptr] = useState('not');\n  const [sort, setSort] = useState('name');\n  const [power, setPower] = useState(1);\n  const [combine, setCombine] = useState('and');\n  const [limit, setLimit] = useState(0);\n  const [page, setPage] = useState(0);\n  const [size, setSize] = useState(null);\n\n  const handleChange = func => event => {\n    func(event.target.value);\n  };\n\n  const handleAdd = async () => {\n    const {\n      data: {\n        message,\n        card\n      }\n    } = await axios.post('/api/create-card', {\n      name,\n      subject,\n      score\n    });\n    if (!card) addErrorMessage(message);else addCardMessage(message);\n  };\n\n  const handleQuery = async () => {\n    const {\n      data: {\n        messages,\n        message,\n        size\n      }\n    } = await axios.get('/api/create-card', {\n      params: {\n        queryName,\n        querySubject,\n        queryScore,\n        optr,\n        power,\n        sort,\n        combine,\n        limit\n      }\n    });\n    if (!messages) addErrorMessage(message);else {\n      setPage(0);\n\n      if (limit !== 0 && size > limit) {\n        setSize(size);\n      } else {\n        setSize(null);\n      }\n\n      addRegularMessage(...messages);\n    }\n  };\n\n  const handleChangePage = async () => {\n    const {\n      data: {\n        messages,\n        message,\n        size\n      }\n    } = await axios.get('/api/create-card', {\n      params: {\n        queryName,\n        querySubject,\n        queryScore,\n        optr,\n        power,\n        sort,\n        combine,\n        limit,\n        page\n      }\n    });\n    if (!messages) addErrorMessage(message);else {\n      addRegularMessage(...messages);\n    }\n  };\n\n  const isValidQuery = queryName || querySubject || optr !== 'not';\n  const pageNumber = limit !== 0 && parseInt(size / limit) + (size % limit !== 0);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        placeholder: \"Name\",\n        value: name,\n        onChange: handleChange(setName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        placeholder: \"Subject\",\n        style: {\n          width: 240\n        },\n        value: subject,\n        onChange: handleChange(setSubject)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        placeholder: \"Score\",\n        value: score,\n        onChange: handleChange(setScore),\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: !name || !subject,\n        onClick: handleAdd,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        placeholder: \"Name\",\n        value: queryName,\n        style: {\n          width: 150\n        },\n        onChange: handleChange(setQueryName)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        placeholder: \"Subject\",\n        style: {\n          width: 150\n        },\n        value: querySubject,\n        onChange: handleChange(setQuerySubject)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        children: /*#__PURE__*/_jsxDEV(Select, {\n          id: \"optr-select\",\n          className: classes.input,\n          value: optr,\n          onChange: e => setOptr(e.target.value),\n          className: classes.selectEmpty,\n          style: {\n            width: 100\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'not',\n            children: 'x'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'gte',\n            children: '≥'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'eq',\n            children: '='\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'lte',\n            children: '≤'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        placeholder: \"Score\",\n        value: queryScore,\n        onChange: handleChange(setQueryScore),\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: !isValidQuery,\n        onClick: handleQuery,\n        children: \"Query\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"sort-label\",\n          shrink: true,\n          children: \"Sort By\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"sort-label\",\n          className: classes.input,\n          value: sort,\n          onChange: e => setSort(e.target.value),\n          className: classes.selectEmpty,\n          style: {\n            width: 150\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'name',\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'subject',\n            children: \"Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'score',\n            children: \"Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"power-label\",\n          shrink: true,\n          children: \"Power\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"power-label\",\n          className: classes.input,\n          value: power,\n          onChange: e => setPower(e.target.value),\n          className: classes.selectEmpty,\n          style: {\n            width: 150\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 1,\n            children: \"Ascending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: -1,\n            children: \"Decending\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          id: \"combine-label\",\n          shrink: true,\n          children: \"Combine\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          labelId: \"combine-label\",\n          className: classes.input,\n          value: combine,\n          onChange: e => setCombine(e.target.value),\n          className: classes.selectEmpty,\n          style: {\n            width: 150\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'and',\n            children: \"And\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: 'or',\n            children: \"Or\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        InputLabelProps: {\n          shrink: true\n        },\n        label: \"Max Query\",\n        value: limit,\n        onChange: handleChange(setLimit),\n        type: \"number\",\n        helperText: \"0 means no limit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), size && /*#__PURE__*/_jsxDEV(Row, {\n      children: [`The query has ${pageNumber} page, now at page:`, /*#__PURE__*/_jsxDEV(TextField, {\n        className: classes.input,\n        value: page,\n        error: page >= pageNumber,\n        onChange: handleChange(setPage),\n        type: \"number\",\n        style: {\n          width: 50\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.button,\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: page >= pageNumber,\n        onClick: handleChangePage,\n        children: \"change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ContentPaper, {\n      variant: \"outlined\",\n      children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        style: {\n          color: m.color\n        },\n        children: m.message\n      }, m + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Body, \"GTLqS1+0j3KqWVhwcynGEjjdSBE=\", false, function () {\n  return [useStyles, useScoreCard];\n});\n\n_c4 = Body;\nexport default Body;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Row\");\n$RefreshReg$(_c3, \"ContentPaper\");\n$RefreshReg$(_c4, \"Body\");","map":{"version":3,"sources":["C:/web programming/wp1092/hw6/own3/frontend/src/containers/Body.js"],"names":["useState","Button","FormControl","Select","MenuItem","InputLabel","Paper","styled","TextField","Typography","useStyles","axios","useScoreCard","Wrapper","section","Row","div","StyledFormControl","ContentPaper","Body","classes","messages","addCardMessage","addRegularMessage","addErrorMessage","name","setName","subject","setSubject","score","setScore","queryName","setQueryName","querySubject","setQuerySubject","queryScore","setQueryScore","optr","setOptr","sort","setSort","power","setPower","combine","setCombine","limit","setLimit","page","setPage","size","setSize","handleChange","func","event","target","value","handleAdd","data","message","card","post","handleQuery","get","params","handleChangePage","isValidQuery","pageNumber","parseInt","input","width","button","e","selectEmpty","shrink","map","m","i","color"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport styled from 'styled-components';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useStyles } from '../hooks';\nimport axios from '../api';\nimport { useScoreCard } from '../hooks/useScoreCard';\n\nconst Wrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 1em;\n`;\n\nconst StyledFormControl = styled(FormControl)`\n  min-width: 120px;\n`;\n\nconst ContentPaper = styled(Paper)`\n  height: 300px;\n  padding: 2em;\n  overflow: auto;\n`;\n\nconst Body = () => {\n  const classes = useStyles();\n\n  const { messages, addCardMessage, addRegularMessage, addErrorMessage } =\n    useScoreCard();\n\n  const [name, setName] = useState('');\n  const [subject, setSubject] = useState('');\n  const [score, setScore] = useState(0);\n\n  const [queryName, setQueryName] = useState('');\n  const [querySubject, setQuerySubject] = useState('');\n  const [queryScore, setQueryScore] = useState(0);\n\n  const [optr, setOptr] = useState('not');\n  const [sort, setSort] = useState('name')\n  const [power, setPower] = useState(1)\n  const [combine, setCombine] = useState('and')\n\n  const [limit, setLimit] = useState(0)\n\n  const [page, setPage] = useState(0)\n\n  const [size, setSize] = useState(null)\n\n  const handleChange = (func) => (event) => {\n    func(event.target.value);\n  };\n\n  const handleAdd = async () => {\n    const {\n      data: { message, card },\n    } = await axios.post('/api/create-card', {\n      name,\n      subject,\n      score,\n    });\n\n    if (!card) addErrorMessage(message);\n    else addCardMessage(message);\n  };\n\n  const handleQuery = async () => {\n    const {\n      data: { messages, message, size },\n    } = await axios.get('/api/create-card', {params: {\n      queryName,\n      querySubject,\n      queryScore,\n      optr,\n      power,\n      sort,\n      combine,\n      limit,\n    }})\n    if (!messages) addErrorMessage(message);\n    else{ \n      setPage(0)\n      if (limit !== 0 && size > limit){\n        setSize(size)\n      }\n      else{\n        setSize(null)\n      }\n      addRegularMessage(...messages);\n    }\n  };\n\n  const handleChangePage = async () => {\n    const {\n      data: { messages, message, size },\n    } = await axios.get('/api/create-card', {params: {\n      queryName,\n      querySubject,\n      queryScore,\n      optr,\n      power,\n      sort,\n      combine,\n      limit,\n      page\n    }})\n    if (!messages) addErrorMessage(message);\n    else{ \n      addRegularMessage(...messages);\n    }\n  };\n\n  const isValidQuery = queryName || querySubject || optr !== 'not'\n  const pageNumber = limit !== 0 && (parseInt(size / limit) + (size % limit !== 0))\n\n  return (\n    <Wrapper>\n      <Row>\n        {/* Could use a form & a library for handling form data here such as Formik, but I don't really see the point... */}\n        <TextField\n          className={classes.input}\n          placeholder=\"Name\"\n          value={name}\n          onChange={handleChange(setName)}\n        />\n        <TextField\n          className={classes.input}\n          placeholder=\"Subject\"\n          style={{ width: 240 }}\n          value={subject}\n          onChange={handleChange(setSubject)}\n        />\n        <TextField\n          className={classes.input}\n          placeholder=\"Score\"\n          value={score}\n          onChange={handleChange(setScore)}\n          type=\"number\"\n        />\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!name || !subject}\n          onClick={handleAdd}\n        >\n          Add\n        </Button>\n      </Row>\n      <Row>\n        <TextField\n          className={classes.input}\n          placeholder=\"Name\"\n          value={queryName}\n          style={{ width: 150 }}\n          onChange={handleChange(setQueryName)}\n        />\n        <TextField\n          className={classes.input}\n          placeholder=\"Subject\"\n          style={{ width: 150 }}\n          value={querySubject}\n          onChange={handleChange(setQuerySubject)}\n        />\n        <FormControl>\n          <Select\n            id='optr-select'\n            className={classes.input}\n            value={optr}\n            onChange={(e)=>setOptr(e.target.value)}\n            className={classes.selectEmpty}\n            style={{ width: 100 }}\n          >\n            <MenuItem value={'not'}>{'x'}</MenuItem>\n            <MenuItem value={'gte'}>{'≥'}</MenuItem>\n            <MenuItem value={'eq'}>{'='}</MenuItem>\n            <MenuItem value={'lte'}>{'≤'}</MenuItem>\n          </Select>\n        </FormControl>\n\n        <TextField\n          className={classes.input}\n          placeholder=\"Score\"\n          value={queryScore}\n          onChange={handleChange(setQueryScore)}\n          type=\"number\"\n        />\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!isValidQuery}\n          onClick={handleQuery}\n        >\n          Query\n        </Button>\n      </Row>\n      <Row>\n      <FormControl>\n          <InputLabel id=\"sort-label\" shrink>Sort By</InputLabel>\n          <Select\n            labelId='sort-label'\n            className={classes.input}\n            value={sort}\n            onChange={(e)=>setSort(e.target.value)}\n            className={classes.selectEmpty}\n            style={{ width: 150 }}\n          >\n            <MenuItem value={'name'}>Name</MenuItem>\n            <MenuItem value={'subject'}>Subject</MenuItem>\n            <MenuItem value={'score'}>Score</MenuItem>\n          </Select>\n        </FormControl>\n        <FormControl>\n          <InputLabel id=\"power-label\" shrink>Power</InputLabel>\n          <Select\n            labelId='power-label'\n            className={classes.input}\n            value={power}\n            onChange={(e)=>setPower(e.target.value)}\n            className={classes.selectEmpty}\n            style={{ width: 150 }}\n          >\n            <MenuItem value={1}>Ascending</MenuItem>\n            <MenuItem value={-1}>Decending</MenuItem> \n          </Select>\n        </FormControl>\n        <FormControl>\n          <InputLabel id=\"combine-label\" shrink>Combine</InputLabel>\n          <Select\n            labelId='combine-label'\n            className={classes.input}\n            value={combine}\n            onChange={(e)=>setCombine(e.target.value)}\n            className={classes.selectEmpty}\n            style={{ width: 150 }}\n          >\n            <MenuItem value={'and'}>And</MenuItem>\n            <MenuItem value={'or'}>Or</MenuItem> \n          </Select>\n        </FormControl>\n        <TextField\n          className={classes.input}\n          InputLabelProps={{\n            shrink: true,\n          }}\n          label=\"Max Query\"\n          value={limit}\n          onChange={handleChange(setLimit)}\n          type='number'\n          helperText=\"0 means no limit\"\n        />\n      </Row>\n      {\n        size && \n        <Row>\n          {`The query has ${pageNumber} page, now at page:`}\n          <TextField\n            className={classes.input}\n            value={page}\n            error={page >= pageNumber}\n            onChange={handleChange(setPage)}\n            type=\"number\"\n            style={{ width: 50 }}\n          />\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={page >= pageNumber}\n            onClick={handleChangePage}\n          >\n            change\n        </Button>\n        </Row>\n      }\n      <ContentPaper variant=\"outlined\">\n        {messages.map((m, i) => (\n          <Typography variant=\"body2\" key={m + i} style={{ color: m.color }}>\n            {m.message}\n          </Typography>\n        ))}\n      </ContentPaper>\n    </Wrapper>\n  );\n};\n\nexport default Body;\n"]},"metadata":{},"sourceType":"module"}